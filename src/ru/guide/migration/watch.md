---
title: Использование watch для отслеживания изменений массива
badges:
  - breaking
---

# {{ $frontmatter.title }} <MigrationBadges :badges="$frontmatter.badges" />

## Обзор

- **КАРДИНАЛЬНОЕ ИЗМЕНЕНИЕ:** Отслеживание изменений массива с помощью watch будет вызывать обработчик только при замене массива. При необходимости вызывать обработчик при мутациях массива следует добавлять опцию `deep`.

## Синтаксис в 3.x

При использовании [опции `watch`](../../api/options-data.md#watch) для отслеживания изменений массива, обработчик будет вызван только при замене массива. Другими словами, обработчик больше не вызывается при мутациях массива. Для отслеживания мутаций массива надо добавлять опцию `deep`.

```js
watch: {
  bookList: {
    handler(val, oldVal) {
      console.log('список книг изменился')
    },
    deep: true
  },
}
```

## Стратегия миграции

Если полагаетесь на отслеживание мутаций массива, то добавьте опцию `deep` чтобы убедиться, что метод обработчика будет вызываться правильно.

[Флаг сборки для миграции: `WATCH_ARRAY`](migration-build.md#конфигурация-совместимости)
